<!-- <ng-template let-productsFromNgIf [ngIf]="getFilteredProducts" [ngIfElse]="loader"> -->
<!-- <div
    *ngIf="getFilteredProducts; else: loader; let productsFromNgIf = ngIf"
    class="scroll-container"
> -->

<!-- Раскомментировать при выполнении ДЗ -->

<ng-container *ngIf="products; else loader;">
    <div *appPagination="
        let currentItems of products;
        let setChunkSize = setChunkSize;
        let chunkSizes = chunkSizes;
        let currentChunkSize = currentChunkSize;
        let currentPage = currentPage;
        let pages = pages;
        let setPage = setPage;
        chunkSize: 4;
    " class="scroll-container">

    <div *ngIf="currentItems.length; else emptyProducts">
        <div *ngIf="chunkSizes" class="pagination-chunks-sizes">
            <button
                *ngFor="let size of chunkSizes; let i = index"
                mat-button
                [ngClass]="{active: currentChunkSize == size}"
                (click)="setChunkSize(i)"
            >
                {{ size }}
            </button>
        </div>
        <div class="app-products-list-container">
            <app-card
                *ngFor="let item of currentItems; trackBy: trackBy"
                class="card"
                [product]="item"
            ></app-card>
        </div>
        <div *ngIf="pages.length" class="pagination-pages">
            <button
                *ngFor="let page of pages"
                mat-button
                [ngClass]="{active: currentPage == page}"
                (click)="setPage(page)"
            >
                {{ page }}
            </button>
        </div>
    </div>
    </div>
</ng-container>

<ng-template #loader>
    <mat-spinner></mat-spinner>
</ng-template>

<ng-template #emptyProducts>
    Нет товаров
</ng-template>
