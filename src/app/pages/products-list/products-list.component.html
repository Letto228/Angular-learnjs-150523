<!-- <ng-template let-productsFromNgIf [ngIf]="getFilteredProducts" [ngIfElse]="loader"> -->
<!-- <div
    *ngIf="getFilteredProducts; else: loader; let productsFromNgIf = ngIf"
    class="scroll-container"
> -->

<!-- Раскомментировать при выполнении ДЗ -->
<div *ngIf="getFilteredProducts as productsFromNgIf; else loader" class="scroll-container">
    <ng-container
        *appPagination="
            let chunk of productsFromNgIf;
            chunkSize: 3;
            let next = next;
            let back = back;
            let activeIndex = index;
            let selectedIndex = selectedIndex;
            let pageIndexes = pageIndexes
        "
    >
        <!-- <ng-template ngFor [ngForOf]="productsFromNgIf" [ngForTrackBy]="trackBy" let-product> -->
        <div class="container">
            <div class="cart-container">
                <app-card *ngFor="let product of chunk" class="card" [product]="product"></app-card>
            </div>
            <div class="pagination-container">
                <button class="pagination-control" (click)="back()">Back</button>
                <div class="page-indexes">
                    <span
                        *ngFor="let index of pageIndexes"
                        [class.active]="activeIndex === index"
                        (click)="selectedIndex(index)"
                    >
                        {{ index + 1 }}
                    </span>
                    <!-- I added "+1" assuming you want to show 1-based indexes -->
                </div>
                <button class="pagination-control" (click)="next()">Next</button>
            </div>
        </div>
    </ng-container>
    <!-- </ng-template> -->
</div>

<!-- </ng-template> -->

<!-- <div *appDumpNgIf="testUser; let user = value">
    {{testUser.name}}
</div> -->

<ng-template #loader>
    <mat-spinner></mat-spinner>
</ng-template>
